import{h as U,T as V,l as j,d as m,o as u,b as d,i as r,Z as F,w as h,a as t,f as T,m as c,j as p,p as g,v as C,F as _,k as B,t as q,g as D,c as $,q as A}from"./app-DEkwZWrq.js";import{_ as M}from"./AppLayout-Dm3NQG67.js";import{_ as O,a as G}from"./NavPage-hn18qgKa.js";import{_ as I}from"./NavPageContact-h4c_iEcQ.js";const L={class:"space-y-6"},W={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Z={class:"block"},z={class:"block"},H={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},J={class:"block"},K={class:"block"},P={class:"block"},Q=["value"],R={class:"block"},X={class:"mt-8 flex flex-col sm:flex-row gap-4"},Y={type:"submit",class:"w-full flex justify-center items-center bg-red-700 text-white px-4 py-2 rounded-md hover:bg-red-900 transition duration-200 sm:w-48"},tt={key:0,class:"fa-solid fa-check me-2"},at={__name:"ContactEdit",props:{contact:{type:[Object,Array],required:!0},countContacts:{type:String},groups:{type:[Object,Array]},success:{type:String},error:{type:String}},setup(i){var f,y,b,v,x,k,w,S;const l=U(null),n=i,e=V({id:((f=n.contact)==null?void 0:f.id)||"",token:((y=n.contact)==null?void 0:y.token)||"",name:((b=n.contact)==null?void 0:b.name)||"",status:((v=n.contact)==null?void 0:v.status)||"",email:((x=n.contact)==null?void 0:x.email)||"",contact:((k=n.contact)==null?void 0:k.whatsapp)||"",group:((w=n.contact)==null?void 0:w.group_id)||"",description:((S=n.contact)==null?void 0:S.description)||""});j(()=>n.contact,(a,o)=>{a&&(e.id=a.id,e.token=a.token,e.name=a.name,e.status=a.status,e.description=a.description)},{deep:!0,immediate:!0});const E=()=>{l.value=!0,e.post(route("contact.update"),{forceFormData:!0,onSuccess:()=>{console.log("Formulário enviado com sucesso!"),l.value=null},onError:a=>{console.error("Erro ao enviar:",a),l.value=null}})};return(a,o)=>(u(),m(_,null,[d(r(F),{title:"Editar contato"}),d(M,{success:i.success,error:i.error},{default:h(()=>[d(O,{headTitle:"Contatos",countData:i.countContacts,routeSelect:"contact.index",routeSearch:"contact.search",routeCreate:"contact.create"},null,8,["countData"]),d(I,{routeContact:1}),t("form",{onSubmit:T(E,["prevent"]),class:"bg-white p-4 border border-gray-300 shadow-lg rounded-md"},[t("div",L,[t("div",W,[t("div",null,[t("label",Z,[o[6]||(o[6]=t("span",{class:"text-gray-700"},[p("Nome "),t("span",{class:"text-red-600"},"**")],-1)),c(t("input",{"onUpdate:modelValue":o[0]||(o[0]=s=>r(e).name=s),type:"text",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-opacity-50 focus:ring-gray-500 focus:border-gray-500",placeholder:"Nome"},null,512),[[g,r(e).name]])])]),t("div",null,[t("label",z,[o[8]||(o[8]=t("span",{class:"text-gray-700"},[p("Status "),t("span",{class:"text-red-600"},"**")],-1)),c(t("select",{"onUpdate:modelValue":o[1]||(o[1]=s=>r(e).status=s),required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-opacity-50 focus:ring-gray-500 focus:border-gray-500"},o[7]||(o[7]=[t("option",{value:"1"},"Ativo",-1),t("option",{value:"0"},"Inativo",-1)]),512),[[C,r(e).status]])])])]),t("div",H,[t("div",null,[t("label",J,[o[9]||(o[9]=t("span",{class:"text-gray-700"},"E-mail",-1)),c(t("input",{"onUpdate:modelValue":o[2]||(o[2]=s=>r(e).email=s),type:"email",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-opacity-50 focus:ring-gray-500 focus:border-gray-500",placeholder:"exemplo@exemplo.com"},null,512),[[g,r(e).email]])])]),t("div",null,[t("label",K,[o[10]||(o[10]=t("span",{class:"text-gray-700"},"Contato",-1)),c(t("input",{"onUpdate:modelValue":o[3]||(o[3]=s=>r(e).contact=s),type:"number",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-opacity-50 focus:ring-gray-500 focus:border-gray-500",placeholder:"Whatsapp ou Telegram"},null,512),[[g,r(e).contact]])])]),t("div",null,[t("label",P,[o[11]||(o[11]=t("span",{class:"text-gray-700"},[p("Grupo "),t("span",{class:"text-red-600"},"**")],-1)),c(t("select",{"onUpdate:modelValue":o[4]||(o[4]=s=>r(e).group=s),required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-opacity-50 focus:ring-gray-500 focus:border-gray-500"},[(u(!0),m(_,null,B(i.groups,(s,N)=>(u(),m("option",{key:N,value:s.id},q(s.name),9,Q))),128))],512),[[C,r(e).group]])])])]),t("div",null,[t("label",R,[o[12]||(o[12]=t("span",{class:"text-gray-700"},"Descrição",-1)),c(t("textarea",{"onUpdate:modelValue":o[5]||(o[5]=s=>r(e).description=s),rows:"4",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-opacity-50 focus:ring-gray-500 focus:border-gray-500",placeholder:"Descrição"},null,512),[[g,r(e).description]])])]),t("div",X,[t("button",Y,[l.value?D("",!0):(u(),m("i",tt)),l.value?(u(),$(G,{key:1,status:l.value,class:"me-2"},null,8,["status"])):D("",!0),p(" "+q(l.value?"Salvando...":"Salvar"),1)]),d(r(A),{href:a.route("contact.index"),class:"w-full flex justify-center items-center bg-gray-700 text-white px-4 py-2 rounded-md hover:bg-gray-900 transition duration-200 sm:w-48"},{default:h(()=>o[13]||(o[13]=[t("i",{class:"fa-solid fa-trash-can me-2"},null,-1),p(" Cancelar ")])),_:1},8,["href"])])])],32)]),_:1},8,["success","error"])],64))}};export{at as default};
