import{Q as O,h as p,E as F,d as l,o as a,g as m,n as o,a as e,t as b,f as N,e as j,c as D,r as C,w as g,i as y,q as $,s as B,l as V,b as c,G as T,j as x,F as M,x as A,T as W,m as P,p as R,k as z,N as E}from"./app-DEkwZWrq.js";const q={class:"max-w-screen-xl mx-auto py-2 px-3 sm:px-6 lg:px-8"},G={class:"flex items-center justify-between flex-wrap"},H={class:"w-0 flex-1 flex items-center min-w-0"},I={key:0,class:"h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},J={key:1,class:"h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},U={class:"ms-3 font-medium text-sm text-white truncate"},Q={class:"shrink-0 sm:ms-3"},K={__name:"Banner",setup(d){const n=O(),f=p(!0),r=p("success"),s=p("");return F(async()=>{var t,i;r.value=((t=n.props.jetstream.flash)==null?void 0:t.bannerStyle)||"success",s.value=((i=n.props.jetstream.flash)==null?void 0:i.banner)||"",f.value=!0}),(t,i)=>(a(),l("div",null,[f.value&&s.value?(a(),l("div",{key:0,class:o({"bg-indigo-500":r.value=="success","bg-red-700":r.value=="danger"})},[e("div",q,[e("div",G,[e("div",H,[e("span",{class:o(["flex p-2 rounded-lg",{"bg-indigo-600":r.value=="success","bg-red-600":r.value=="danger"}])},[r.value=="success"?(a(),l("svg",I,i[1]||(i[1]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))):m("",!0),r.value=="danger"?(a(),l("svg",J,i[2]||(i[2]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"},null,-1)]))):m("",!0)],2),e("p",U,b(s.value),1)]),e("div",Q,[e("button",{type:"button",class:o(["-me-1 flex p-2 rounded-md focus:outline-none sm:-me-2 transition",{"hover:bg-indigo-600 focus:bg-indigo-600":r.value=="success","hover:bg-red-600 focus:bg-red-600":r.value=="danger"}]),"aria-label":"Dismiss",onClick:i[0]||(i[0]=N(_=>f.value=!1,["prevent"]))},i[3]||(i[3]=[e("svg",{class:"h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)]),2)])])])],2)):m("",!0)]))}},X=["href"],w={__name:"ResponsiveNavLink",props:{active:Boolean,href:String,as:String,icon:String},setup(d){const n=d,f=j(()=>n.active?"flex items-center w-full ps-4 pe-4 py-2 border-l-4 border-indigo-500 text-start text-base font-semibold text-indigo-600 bg-indigo-100 dark:bg-slate-800 dark:text-indigo-400 focus:outline-none transition duration-150 ease-in-out":"flex items-center w-full ps-4 pe-4 py-2 border-l-4 border-transparent text-start text-base font-medium text-gray-700 hover:text-indigo-600 hover:bg-gray-100 dark:text-gray-300 dark:hover:text-indigo-400 dark:hover:bg-slate-800 transition duration-150 ease-in-out");return(r,s)=>(a(),l("div",null,[d.as=="button"?(a(),l("button",{key:0,class:o([f.value,"w-full text-start"])},[d.icon?(a(),l("i",{key:0,class:o([d.icon,"mr-3 text-lg"])},null,2)):m("",!0),C(r.$slots,"default")],2)):d.as=="a"?(a(),l("a",{key:1,class:o([f.value,"w-full text-start"]),href:d.href},[d.icon?(a(),l("i",{key:0,class:o([d.icon,"mr-3 text-lg"])},null,2)):m("",!0),C(r.$slots,"default")],10,X)):(a(),D(y($),{key:2,href:d.href,class:o(f.value)},{default:g(()=>[d.icon?(a(),l("i",{key:0,class:o([d.icon,"mr-3 text-lg"])},null,2)):m("",!0),C(r.$slots,"default")]),_:3},8,["href","class"]))]))}},Y={class:"h-16 flex justify-center items-center relative"},Z={class:"flex items-center text-white"},ee=["src","width"],te={class:"mt-6 flex flex-col items-center space-y-4"},se={key:0,class:"text-center text-white"},oe={class:"text-xl font-semibold"},ae={class:"text-sm text-slate-500 mb-3"},re={class:"mt-10"},le={class:"space-y-2"},ne={key:0,class:"px-5 mt-6"},ie={class:"text-white mb-2 text-center"},ue={class:"relative w-full bg-gray-200 h-4 shadow"},de={class:"absolute inset-0 flex items-center justify-center text-sm text-slate-900 font-semibold"},ce={__name:"SideBar",setup(d){const n=p(0),f=p(0),r=p(0),s=p("bg-blue-600");B(async()=>{try{const v=await fetch(route("data.totalStorage"));if(!v.ok)throw new Error("Erro ao buscar dados: "+v.statusText);const k=await v.json();n.value=k.maxStorage||0,f.value=k.usedStorage||0,r.value=n.value>0?f.value*100/n.value:0,r.value>=50&&r.value<75?s.value="bg-yellow-600":r.value>=75&&(s.value="bg-red-600")}catch(v){console.error("Erro:",v)}});const t=p(JSON.parse(localStorage.getItem("isWide"))??!0),i=p(t.value?180:0),_=j(()=>t.value?"w-72":"w-14"),L=j(()=>t.value?"ml-72":"ml-14"),h=j(()=>t.value?"opacity-100":"opacity-0 hidden"),u=j(()=>({transform:`rotate(${i.value}deg)`})),S=()=>{t.value=!t.value,i.value=i.value===180?0:180};return V(t,v=>{localStorage.setItem("isWide",JSON.stringify(v))}),(v,k)=>(a(),l(M,null,[e("div",{class:o(`bg-slate-900 h-full fixed top-0 left-0 ${_.value} transition-all duration-300`)},[e("div",Y,[e("div",Z,[c(y($),{href:v.route("dashboard")},{default:g(()=>[e("img",{src:t.value?"/images/kristtaHorizontalBranco.png":"/images/kristtaBranco.png",width:t.value?"150":"40",alt:"Logo"},null,8,ee)]),_:1},8,["href"])]),e("div",{style:T(u.value),onClick:S,class:"bg-white rounded-full w-10 h-10 mt-16 absolute -right-4 border border-slate-900 flex justify-center items-center cursor-pointer transition-transform duration-300"},k[0]||(k[0]=[e("i",{class:"fa-solid fa-arrow-right text-slate-900"},null,-1)]),4)]),e("div",te,[e("div",{class:o(`bg-slate-500 rounded-full bg-cover bg-center border-2 border-zinc-50 ${t.value?"w-24 h-24":"w-10 h-10"}`),style:T("background-image: url('/storage/"+v.$page.props.auth.user.profile_photo_path+"');")},null,6),t.value?(a(),l("div",se,[e("h1",oe,b(v.$page.props.auth.user.name),1),e("h2",ae,b(v.$page.props.auth.user.email),1),c(y($),{href:v.route("logout"),method:"post",as:"button",class:"w-full border border-slate-400 py-2 rounded-lg hover:bg-slate-700 transition-all duration-300"},{default:g(()=>k[1]||(k[1]=[e("i",{class:"fa-solid fa-right-from-bracket"},null,-1),x(" Logout ")])),_:1},8,["href"])])):m("",!0)]),e("nav",re,[e("ul",le,[e("li",null,[c(y($),{href:v.route("dashboard"),class:o([t.value?"px-6":"","flex items-center p-2 text-white hover:bg-gray-600 dark:hover:bg-gray-700 group"])},{default:g(()=>[e("i",{class:o([t.value?"":"mx-auto","fa-solid fa-chart-pie text-xl"])},null,2),e("span",{class:o(`ml-3 ${h.value} transition-opacity duration-300`)},"Dashboard",2)]),_:1},8,["href","class"])]),e("li",null,[c(y($),{href:v.route("report.index"),class:o([t.value?"px-6":"","flex items-center p-2 text-white hover:bg-gray-600 dark:hover:bg-gray-700 group"])},{default:g(()=>[e("i",{class:o([t.value?"":"mx-auto","fa-solid fa-list text-xl"])},null,2),e("span",{class:o(`ml-3 ${h.value} transition-opacity duration-300`)},"Relatórios",2)]),_:1},8,["href","class"])]),e("li",null,[c(y($),{href:v.route("email.status"),class:o([t.value?"px-6":"","flex items-center p-2 text-white hover:bg-gray-600 dark:hover:bg-gray-700 group"])},{default:g(()=>[e("i",{class:o([t.value?"":"mx-auto","fa-solid fa-envelopes-bulk"])},null,2),e("span",{class:o(`ml-3 ${h.value} transition-opacity duration-300`)},"Lotes",2)]),_:1},8,["href","class"])]),e("li",null,[c(y($),{href:v.route("contact.index"),class:o([t.value?"px-6":"","flex items-center p-2 text-white hover:bg-gray-600 dark:hover:bg-gray-700 group"])},{default:g(()=>[e("i",{class:o([t.value?"":"mx-auto","fa-solid fa-users-line text-xl"])},null,2),e("span",{class:o(`ml-3 ${h.value} transition-opacity duration-300`)},"Contatos",2)]),_:1},8,["href","class"])]),e("li",null,[c(y($),{href:v.route("profile.show"),class:o([t.value?"px-6":"","flex items-center p-2 text-white hover:bg-gray-600 dark:hover:bg-gray-700 group"])},{default:g(()=>[e("i",{class:o([t.value?"":"mx-auto","fa-solid fa-id-card"])},null,2),e("span",{class:o(`ml-3 ${h.value} transition-opacity duration-300`)},"Minha Conta",2)]),_:1},8,["href","class"])]),e("li",null,[c(y($),{href:v.route("connection.edit"),class:o([t.value?"px-6":"","flex items-center p-2 text-white hover:bg-gray-600 dark:hover:bg-gray-700 group"])},{default:g(()=>[e("i",{class:o([t.value?"":"mx-auto","fa-solid fa-gears text-xl"])},null,2),e("span",{class:o(`ml-3 ${h.value} transition-opacity duration-300`)},"Configurações",2)]),_:1},8,["href","class"])])])]),t.value?(a(),l("div",ne,[e("p",ie,[k[2]||(k[2]=e("i",{class:"fa-solid fa-hard-drive"},null,-1)),x(" "+b(r.value.toFixed(2))+"%",1)]),e("div",ue,[e("div",{class:o([s.value,"absolute h-full transition-all duration-300"]),style:T({width:`${r.value}%`})},null,6),e("div",de,b(f.value)+" / "+b(n.value)+" GB ",1)])])):m("",!0)],2),e("div",{class:o(`transition-all duration-300 ${L.value}`)},[C(v.$slots,"default")],2)],64))}},fe={key:0,class:"w-full text-green-500 font-extrabold text-center"},ve={key:1,class:"w-full text-red-500 font-extrabold text-center"},ge={__name:"Alert",props:{success:{type:String},error:{type:String},customMessage:{type:String}},setup(d){const n=p(!1),f=p(!1),r=p(!1),s=d;return B(()=>{s.success&&(n.value=!0,setTimeout(()=>{n.value=!1},1e4)),s.error&&(f.value=!0,setTimeout(()=>{f.value=!1},1e4)),s.customMessage&&(r.value=!0,setTimeout(()=>{r.value=!1},1e4))}),(t,i)=>(a(),l(M,null,[n.value?(a(),l("div",fe,[e("h2",null,b(d.success),1)])):m("",!0),f.value?(a(),l("div",ve,[e("h2",null,b(d.error),1)])):m("",!0)],64))}},he={class:"w-full"},me={class:"flex"},pe={class:"relative inline-block text-left"},xe={key:0,class:"absolute flex justify-center items-center rounded-full top-0 right-0 w-4 h-4 bg-red-600"},be={class:"text-xs font-bold text-white"},ye={key:0,class:"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none z-50"},we={class:"py-1 overflow-y-auto",role:"menu","aria-orientation":"vertical",style:{"min-height":"100px","max-height":"350px"}},ke={__name:"Notify",setup(d){const n=p(!1),f=p([]),r=p([]),s=()=>{n.value=!n.value},t=()=>{n.value=!1},i=h=>{const u=document.querySelector(".origin-top-right");u&&!u.contains(h.target)&&t()};B(()=>{document.addEventListener("click",i)}),B(async()=>{try{const h=await fetch(route("notification.index"));if(!h.ok)throw new Error("Erro ao buscar dados: "+h.statusText);const u=await h.json();f.value=u.notifications,r.value=u.countNotify}catch(h){console.error("Erro:",h)}}),A(()=>{document.removeEventListener("click",i)});const _=W({notifyStatus:""}),L=()=>{_.post(route("notification.update"),{forceFormData:!0,onSuccess:()=>{form.reset(),console.log("Formulário enviado com sucesso!")},onError:h=>{console.error("Erro ao enviar:",h)}})};return(h,u)=>(a(),l("div",he,[e("div",me,[u[7]||(u[7]=e("button",{class:"text-slate-900 text-xl me-4"},[e("i",{class:"fa-solid fa-envelope-open-text"})],-1)),e("div",pe,[e("form",{id:"formNotify",onSubmit:N(L,["prevent"])},[P(e("input",{"onUpdate:modelValue":u[0]||(u[0]=S=>y(_).notifyStatus=S),type:"hidden",value:"1"},null,512),[[R,y(_).notifyStatus]])],32),e("button",{class:"relative text-slate-900 w-9 text-xl",onClick:N(s,["stop"])},[u[1]||(u[1]=e("i",{class:"fa-solid fa-bell"},null,-1)),r.value>0?(a(),l("div",xe,[e("span",be,b(r.value>99?"+":r.value),1)])):m("",!0)]),n.value?(a(),l("div",ye,[e("div",we,[u[5]||(u[5]=e("button",{form:"formNotify",class:"w-full flex justify-center items-center"},[e("i",{class:"fa-solid fa-trash me-3"}),x(),e("span",null,"Limpar")],-1)),u[6]||(u[6]=e("hr",null,null,-1)),(a(!0),l(M,null,z(f.value,S=>(a(),l("div",{key:S.id,class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900"},[e("p",null,[u[2]||(u[2]=e("strong",null,"Notification:",-1)),x(" "+b(S.notification),1)]),e("p",null,[u[3]||(u[3]=e("strong",null,"Origin:",-1)),x(" "+b(S.origin),1)]),u[4]||(u[4]=e("hr",{class:"my-2 border-gray-300"},null,-1))]))),128))])])):m("",!0)])])]))}},$e={class:"flex w-full"},_e={class:"hidden md:block lg:block"},Se={class:"min-h-screen w-full bg-gray-100 dark:bg-slate-700"},Me={class:"bg-white shadow"},je={class:"mx-auto px-4"},Ce={class:"flex justify-between items-center h-16"},Ne={class:"hidden sm:block w-full"},Be={class:"hidden lg:flex sm:items-center"},Le={class:"-me-2 flex items-center sm:hidden"},Te={class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},Ee={class:"pt-2 pb-3 space-y-1"},De={class:"pt-4 pb-1 border-t border-gray-200"},ze={class:"flex items-center px-4"},Oe={key:0,class:"shrink-0 me-3"},Fe=["src","alt"],Ve={class:"font-medium text-base text-gray-800"},Ae={class:"font-medium text-sm text-gray-500"},We={class:"mt-3 space-y-1"},Pe=["onSubmit"],Re={class:"flex items-center"},qe={key:0,class:"me-2 h-5 w-5 text-green-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Ge={class:"mx-auto flex"},He={class:"flex-grow p-4 px-0 md:px-4 lg:p-5"},Je={__name:"AppLayout",props:{success:String,error:String,customMessage:String},setup(d){const n=p(!1),f=s=>{E.put(route("current-team.update"),{team_id:s.id},{preserveState:!1})},r=()=>{E.post(route("logout"))};return(s,t)=>(a(),l("div",null,[c(K),e("div",$e,[e("div",_e,[c(ce)]),e("div",Se,[e("nav",Me,[e("div",je,[e("div",Ce,[e("div",Ne,[c(ge,{success:d.success,error:d.error,customMessage:d.customMessage},null,8,["success","error","customMessage"])]),e("div",Be,[c(ke)]),e("div",Le,[e("button",{class:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 focus:text-gray-500 transition duration-150 ease-in-out",onClick:t[0]||(t[0]=i=>n.value=!n.value)},[(a(),l("svg",Te,[e("path",{class:o({hidden:n.value,"inline-flex":!n.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,2),e("path",{class:o({hidden:!n.value,"inline-flex":n.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,2)]))])])])]),e("div",{class:o([{block:n.value,hidden:!n.value},"sm:hidden"])},[e("div",Ee,[c(w,{href:s.route("dashboard"),active:s.route().current("dashboard"),icon:"fa-solid fa-chart-pie"},{default:g(()=>t[1]||(t[1]=[x(" Dashboard ")])),_:1},8,["href","active"]),c(w,{href:s.route("report.index"),active:s.route().current("report.index"),icon:"fa-solid fa-list"},{default:g(()=>t[2]||(t[2]=[x(" Relatórios ")])),_:1},8,["href","active"]),c(w,{href:s.route("email.status"),active:s.route().current("email.status"),icon:"fa-solid fa-envelopes-bulk"},{default:g(()=>t[3]||(t[3]=[x(" Lotes ")])),_:1},8,["href","active"]),c(w,{href:s.route("contact.index"),active:s.route().current("contact.index"),icon:"fa-solid fa-users-line"},{default:g(()=>t[4]||(t[4]=[x(" Contatos ")])),_:1},8,["href","active"])]),e("div",De,[e("div",ze,[s.$page.props.jetstream.managesProfilePhotos?(a(),l("div",Oe,[e("img",{class:"h-10 w-10 rounded-full object-cover",src:s.$page.props.auth.user.profile_photo_url,alt:s.$page.props.auth.user.name},null,8,Fe)])):m("",!0),e("div",null,[e("div",Ve,b(s.$page.props.auth.user.name),1),e("div",Ae,b(s.$page.props.auth.user.email),1)])]),e("div",We,[c(w,{href:s.route("profile.show"),active:s.route().current("profile.show"),icon:"fa-solid fa-id-card"},{default:g(()=>t[5]||(t[5]=[x(" Minha Conta ")])),_:1},8,["href","active"]),c(w,{href:s.route("connection.edit"),active:s.route().current("connection.edit"),icon:"fa-solid fa-gears"},{default:g(()=>t[6]||(t[6]=[x(" Configurações ")])),_:1},8,["href","active"]),e("form",{method:"POST",onSubmit:N(r,["prevent"])},[c(w,{as:"button",icon:"fa-solid fa-right-from-bracket"},{default:g(()=>t[7]||(t[7]=[x(" Log Out ")])),_:1})],32),s.$page.props.jetstream.hasTeamFeatures?(a(),l(M,{key:0},[t[13]||(t[13]=e("div",{class:"border-t border-gray-200"},null,-1)),t[14]||(t[14]=e("div",{class:"block px-4 py-2 text-xs text-gray-400"}," Manage Team ",-1)),c(w,{href:s.route("teams.show",s.$page.props.auth.user.current_team),active:s.route().current("teams.show"),icon:"fa-solid fa-users-gear"},{default:g(()=>t[8]||(t[8]=[x(" Team Settings ")])),_:1},8,["href","active"]),s.$page.props.jetstream.canCreateTeams?(a(),D(w,{key:0,href:s.route("teams.create"),active:s.route().current("teams.create"),icon:"fa-solid fa-plus"},{default:g(()=>t[9]||(t[9]=[x(" Create New Team ")])),_:1},8,["href","active"])):m("",!0),s.$page.props.auth.user.all_teams.length>1?(a(),l(M,{key:1},[t[11]||(t[11]=e("div",{class:"border-t border-gray-200"},null,-1)),t[12]||(t[12]=e("div",{class:"block px-4 py-2 text-xs text-gray-400"}," Switch Teams ",-1)),(a(!0),l(M,null,z(s.$page.props.auth.user.all_teams,i=>(a(),l("form",{key:i.id,onSubmit:N(_=>f(i),["prevent"])},[c(w,{as:"button",icon:"fa-solid fa-arrows-rotate"},{default:g(()=>[e("div",Re,[i.id==s.$page.props.auth.user.current_team_id?(a(),l("svg",qe,t[10]||(t[10]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))):m("",!0),e("div",null,b(i.name),1)])]),_:2},1024)],40,Pe))),128))],64)):m("",!0)],64)):m("",!0)])])],2)]),e("main",null,[e("div",Ge,[e("div",He,[C(s.$slots,"default")])])])])])]))}};export{Je as _};
