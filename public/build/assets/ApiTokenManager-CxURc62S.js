import{d as a,o as r,a as s,r as u,b as n,w as t,c as L,e as z,u as U,f as W,g as k,n as b,T as h,h as w,i as m,j as d,F as C,k as A,t as x}from"./app-DEkwZWrq.js";import{_ as E}from"./ActionMessage-Dd9AVkuP.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as P}from"./Checkbox-BctjpLOE.js";import{_ as Y,a as T}from"./DialogModal-CfbbiHhh.js";import{_ as q}from"./InputError-hNK4lZzv.js";import{_ as j}from"./InputLabel-CKhGW__h.js";import{_ as B}from"./PrimaryButton-CR6vKdh8.js";import S from"./SecondaryButton-BDANIfXV.js";import{S as G}from"./SectionBorder-C_NKNArP.js";import{_ as J}from"./TextInput-he-H6cc7.js";const K={},O={class:"md:col-span-1 flex justify-between"},Q={class:"px-4 sm:px-0"},R={class:"text-lg font-medium text-gray-900"},X={class:"mt-1 text-sm text-gray-600"},Z={class:"px-4 sm:px-0"};function ee(l,c){return r(),a("div",O,[s("div",Q,[s("h3",R,[u(l.$slots,"title")]),s("p",X,[u(l.$slots,"description")])]),s("div",Z,[u(l.$slots,"aside")])])}const F=H(K,[["render",ee]]),se={class:"md:grid md:grid-cols-3 md:gap-6"},te={class:"mt-5 md:mt-0 md:col-span-2"},oe={class:"px-4 py-5 sm:p-6 bg-white shadow sm:rounded-lg"},ne={__name:"ActionSection",setup(l){return(c,i)=>(r(),a("div",se,[n(F,null,{title:t(()=>[u(c.$slots,"title")]),description:t(()=>[u(c.$slots,"description")]),_:3}),s("div",te,[s("div",oe,[u(c.$slots,"content")])])]))}},ie={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},le={class:"sm:flex sm:items-start"},re={class:"mt-3 text-center sm:mt-0 sm:ms-4 sm:text-start"},ae={class:"text-lg font-medium text-gray-900"},de={class:"mt-4 text-sm text-gray-600"},me={class:"flex flex-row justify-end px-6 py-4 bg-gray-100 text-end"},ue={__name:"ConfirmationModal",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0}},emits:["close"],setup(l,{emit:c}){const i=c,p=()=>{i("close")};return(f,v)=>(r(),L(Y,{show:l.show,"max-width":l.maxWidth,closeable:l.closeable,onClose:p},{default:t(()=>[s("div",ie,[s("div",le,[v[0]||(v[0]=s("div",{class:"mx-auto shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},[s("svg",{class:"h-6 w-6 text-red-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})])],-1)),s("div",re,[s("h3",ae,[u(f.$slots,"title")]),s("div",de,[u(f.$slots,"content")])])])]),s("div",me,[u(f.$slots,"footer")])]),_:3},8,["show","max-width","closeable"]))}},ce=["type"],pe={__name:"DangerButton",props:{type:{type:String,default:"button"}},setup(l){return(c,i)=>(r(),a("button",{type:l.type,class:"inline-flex items-center justify-center px-4 py-2 bg-red-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-500 active:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition ease-in-out duration-150"},[u(c.$slots,"default")],8,ce))}},fe={class:"md:grid md:grid-cols-3 md:gap-6"},ve={class:"mt-5 md:mt-0 md:col-span-2"},ge={class:"grid grid-cols-6 gap-6"},_e={key:0,class:"flex items-center justify-end px-4 py-3 bg-gray-50 text-end sm:px-6 shadow sm:rounded-bl-md sm:rounded-br-md"},ye={__name:"FormSection",emits:["submitted"],setup(l){const c=z(()=>!!U().actions);return(i,p)=>(r(),a("div",fe,[n(F,null,{title:t(()=>[u(i.$slots,"title")]),description:t(()=>[u(i.$slots,"description")]),_:3}),s("div",ve,[s("form",{onSubmit:p[0]||(p[0]=W(f=>i.$emit("submitted"),["prevent"]))},[s("div",{class:b(["px-4 py-5 bg-white sm:p-6 shadow",c.value?"sm:rounded-tl-md sm:rounded-tr-md":"sm:rounded-md"])},[s("div",ge,[u(i.$slots,"form")])],2),c.value?(r(),a("div",_e,[u(i.$slots,"actions")])):k("",!0)],32)])]))}},ke={class:"col-span-6 sm:col-span-4"},$e={key:0,class:"col-span-6"},xe={class:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-4"},be={class:"flex items-center"},he={class:"ms-2 text-sm text-gray-600"},we={key:0},Ce={class:"mt-10 sm:mt-0"},Ae={class:"space-y-6"},Se={class:"break-all"},Pe={class:"flex items-center ms-2"},Te={key:0,class:"text-sm text-gray-400"},je=["onClick"],Be=["onClick"],Fe={key:0,class:"mt-4 bg-gray-100 px-4 py-2 rounded font-mono text-sm text-gray-500 break-all"},Ie={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},De={class:"flex items-center"},Ve={class:"ms-2 text-sm text-gray-600"},Je={__name:"ApiTokenManager",props:{tokens:Array,availablePermissions:Array,defaultPermissions:Array},setup(l){const i=h({name:"",permissions:l.defaultPermissions}),p=h({permissions:[]}),f=h({}),v=w(!1),_=w(null),y=w(null),I=()=>{i.post(route("api-tokens.store"),{preserveScroll:!0,onSuccess:()=>{v.value=!0,i.reset()}})},D=g=>{p.permissions=g.abilities,_.value=g},V=()=>{p.put(route("api-tokens.update",_.value),{preserveScroll:!0,preserveState:!0,onSuccess:()=>_.value=null})},M=g=>{y.value=g},N=()=>{f.delete(route("api-tokens.destroy",y.value),{preserveScroll:!0,preserveState:!0,onSuccess:()=>y.value=null})};return(g,e)=>(r(),a("div",null,[n(ye,{onSubmitted:I},{title:t(()=>e[9]||(e[9]=[d(" Create API Token ")])),description:t(()=>e[10]||(e[10]=[d(" API tokens allow third-party services to authenticate with our application on your behalf. ")])),form:t(()=>[s("div",ke,[n(j,{for:"name",value:"Name"}),n(J,{id:"name",modelValue:m(i).name,"onUpdate:modelValue":e[0]||(e[0]=o=>m(i).name=o),type:"text",class:"mt-1 block w-full",autofocus:""},null,8,["modelValue"]),n(q,{message:m(i).errors.name,class:"mt-2"},null,8,["message"])]),l.availablePermissions.length>0?(r(),a("div",$e,[n(j,{for:"permissions",value:"Permissions"}),s("div",xe,[(r(!0),a(C,null,A(l.availablePermissions,o=>(r(),a("div",{key:o},[s("label",be,[n(P,{checked:m(i).permissions,"onUpdate:checked":e[1]||(e[1]=$=>m(i).permissions=$),value:o},null,8,["checked","value"]),s("span",he,x(o),1)])]))),128))])])):k("",!0)]),actions:t(()=>[n(E,{on:m(i).recentlySuccessful,class:"me-3"},{default:t(()=>e[11]||(e[11]=[d(" Created. ")])),_:1},8,["on"]),n(B,{class:b({"opacity-25":m(i).processing}),disabled:m(i).processing},{default:t(()=>e[12]||(e[12]=[d(" Create ")])),_:1},8,["class","disabled"])]),_:1}),l.tokens.length>0?(r(),a("div",we,[n(G),s("div",Ce,[n(ne,null,{title:t(()=>e[13]||(e[13]=[d(" Manage API Tokens ")])),description:t(()=>e[14]||(e[14]=[d(" You may delete any of your existing tokens if they are no longer needed. ")])),content:t(()=>[s("div",Ae,[(r(!0),a(C,null,A(l.tokens,o=>(r(),a("div",{key:o.id,class:"flex items-center justify-between"},[s("div",Se,x(o.name),1),s("div",Pe,[o.last_used_ago?(r(),a("div",Te," Last used "+x(o.last_used_ago),1)):k("",!0),l.availablePermissions.length>0?(r(),a("button",{key:1,class:"cursor-pointer ms-6 text-sm text-gray-400 underline",onClick:$=>D(o)}," Permissions ",8,je)):k("",!0),s("button",{class:"cursor-pointer ms-6 text-sm text-red-500",onClick:$=>M(o)}," Delete ",8,Be)])]))),128))])]),_:1})])])):k("",!0),n(T,{show:v.value,onClose:e[3]||(e[3]=o=>v.value=!1)},{title:t(()=>e[15]||(e[15]=[d(" API Token ")])),content:t(()=>[e[16]||(e[16]=s("div",null," Please copy your new API token. For your security, it won't be shown again. ",-1)),g.$page.props.jetstream.flash.token?(r(),a("div",Fe,x(g.$page.props.jetstream.flash.token),1)):k("",!0)]),footer:t(()=>[n(S,{onClick:e[2]||(e[2]=o=>v.value=!1)},{default:t(()=>e[17]||(e[17]=[d(" Close ")])),_:1})]),_:1},8,["show"]),n(T,{show:_.value!=null,onClose:e[6]||(e[6]=o=>_.value=null)},{title:t(()=>e[18]||(e[18]=[d(" API Token Permissions ")])),content:t(()=>[s("div",Ie,[(r(!0),a(C,null,A(l.availablePermissions,o=>(r(),a("div",{key:o},[s("label",De,[n(P,{checked:m(p).permissions,"onUpdate:checked":e[4]||(e[4]=$=>m(p).permissions=$),value:o},null,8,["checked","value"]),s("span",Ve,x(o),1)])]))),128))])]),footer:t(()=>[n(S,{onClick:e[5]||(e[5]=o=>_.value=null)},{default:t(()=>e[19]||(e[19]=[d(" Cancel ")])),_:1}),n(B,{class:b(["ms-3",{"opacity-25":m(p).processing}]),disabled:m(p).processing,onClick:V},{default:t(()=>e[20]||(e[20]=[d(" Save ")])),_:1},8,["class","disabled"])]),_:1},8,["show"]),n(ue,{show:y.value!=null,onClose:e[8]||(e[8]=o=>y.value=null)},{title:t(()=>e[21]||(e[21]=[d(" Delete API Token ")])),content:t(()=>e[22]||(e[22]=[d(" Are you sure you would like to delete this API token? ")])),footer:t(()=>[n(S,{onClick:e[7]||(e[7]=o=>y.value=null)},{default:t(()=>e[23]||(e[23]=[d(" Cancel ")])),_:1}),n(pe,{class:b(["ms-3",{"opacity-25":m(f).processing}]),disabled:m(f).processing,onClick:N},{default:t(()=>e[24]||(e[24]=[d(" Delete ")])),_:1},8,["class","disabled"])]),_:1},8,["show"])]))}};export{Je as default};
